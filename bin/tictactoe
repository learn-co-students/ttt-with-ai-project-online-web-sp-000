#!/usr/bin/env ruby

require_relative '../config/environment'


def start
puts "Welcome to Tic-tac-toe!"
puts "Would you like to play 0,1, or 2 players?"
selection = gets.chomp

if selection == "0"
  game = Game.new(Players::Computer.new("X"),Players::Computer.new("O"),Board.new)
  game.play
  puts "Would you like to play again? (y/n)"
  choice = gets.chomp
  choice == "y" ? start : exit
end

if selection == "1"
  puts 'Who should go first and be "X"? (Enter "Computer" or "Human")'
  first_player = gets.chomp
    if first_player == "Computer"
      game = Game.new(Players::Computer.new("X"),Players::Human.new("O"),Board.new)
      game.play
      puts "Would you like to play again? (y/n)"
      choice = gets.chomp
      choice == "y" ? start : exit
    elsif first_player == "Human"
      game = Game.new(Players::Human.new("X"),Players::Computer.new("O"),Board.new)
      game.play
      puts "Would you like to play again? (y/n)"
      choice = gets.chomp
      choice == "y" ? start : exit
    else puts "Invalid Selection"
    end

end

if selection == "2"
  game = Game.new
  game.play
  puts "Would you like to play again? (y/n)"
  choice = gets.chomp
  choice == "y" ? start : exit
end

end

start
