#!/usr/bin/env ruby

require_relative '../config/environment'

exit_game = false

until exit_game
  puts "Welcome to Tic-Tac-Toe with AI!"
  print "Do you want to play 0, 1, or 2 player game?> "
  game_mode = gets.chomp("\n")
  board = Board.new
  if game_mode == "0"
    puts "OK! Both the players 'X' and 'O' are computers!"
    player_1 = Players::Computer.new("X")
    player_2 = Players::Computer.new("O")
  elsif game_mode == "1"
    puts "You are 'X' and computer is 'O'. You go first."
    player_1 = Players::Human.new("X")
    player_2 = Players::Computer.new("O")
  else
    puts "Player 1 is 'X' and Player 2 is 'O'. 'X' goes first"
    player_1 = Players::Human.new("X")
    player_2 = Players::Human.new("O")
  end
  game = Game.new(player_1, player_2, board)
  game.play

  print "Do you want to play again? Enter 'Y' or 'N' ?>"
  input = gets.chomp"\n"
  if input == 'N' || input == "n"
    exit_game = true
  end
end
